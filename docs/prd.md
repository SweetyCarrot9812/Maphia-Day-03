# PRD: 콘서트 예약 플랫폼

## 1. 제품 개요 (Product Overview)

### 제품명
**Concert Booking Platform** - 콘서트 예약 플랫폼

### 제품 목적
사용자가 원하는 콘서트를 검색하고, 좌석을 선택하여 예약할 수 있는 온라인 예약 시스템

### 핵심 가치 제안 (Value Proposition)
- **간편한 예약**: 몇 단계만으로 콘서트 좌석 예약 완료
- **실시간 좌석 확인**: 현재 예약 가능한 좌석 실시간 조회
- **예약 관리**: 나의 예약 내역을 한눈에 확인

### 타겟 사용자
- **일반 사용자**: 콘서트를 관람하고 싶은 모든 사람
- **연령대**: 10대 ~ 50대
- **사용 환경**: 모바일, 데스크톱 웹 브라우저

## 2. 이해관계자 (Stakeholders)

| 역할 | 관심사항 | 성공 지표 |
|------|----------|-----------|
| **최종 사용자** | 쉽고 빠른 예약, 명확한 좌석 정보 | 예약 완료율, 사용자 만족도 |
| **개발팀** | 깔끔한 아키텍처, 유지보수 용이성 | 코드 품질, 버그 발생률 |
| **평가자** | Flux + Context 패턴 구현, 완전한 기능 | 모든 기능 정상 작동, 상태관리 품질 |

## 3. 핵심 기능 명세 (Core Features)

### 3.1 콘서트 목록 (Concert List)
**기능 설명**: 예약 가능한 콘서트 목록을 보여줍니다.

**화면 구성**:
- 콘서트 썸네일 이미지
- 콘서트 제목
- 공연 날짜 및 시간
- 공연 장소
- 가격 범위 (최저가 ~ 최고가)
- 예약 가능 여부 표시

**사용자 액션**:
- 콘서트 카드 클릭 → 콘서트 상세 페이지로 이동

### 3.2 콘서트 상세 (Concert Detail)
**기능 설명**: 선택한 콘서트의 상세 정보를 표시합니다.

**화면 구성**:
- 콘서트 상세 이미지
- 공연 정보 (제목, 날짜, 시간, 장소, 러닝타임)
- 출연진 정보
- 가격 정보 (좌석 등급별)
- 공연 설명
- "좌석 선택하기" 버튼

**사용자 액션**:
- "좌석 선택하기" 버튼 클릭 → 좌석 선택 화면으로 이동

### 3.3 좌석 선택 (Seat Selection)
**기능 설명**: 예약할 좌석을 시각적으로 선택합니다.

**화면 구성**:
- 좌석 배치도 (Stage 위치 표시)
- 좌석 상태 구분:
  - 🟢 **선택 가능**: 예약 가능한 좌석
  - 🔴 **예약 완료**: 이미 예약된 좌석
  - 🟡 **선택됨**: 현재 사용자가 선택한 좌석
- 선택된 좌석 정보 요약 (좌석 번호, 가격, 총액)
- "예약하기" 버튼

**좌석 등급 및 가격**:
- **VIP석**: 150,000원 (1-2열)
- **R석**: 100,000원 (3-5열)
- **S석**: 70,000원 (6-10열)
- **A석**: 50,000원 (11-15열)

**비즈니스 규칙**:
- 최소 1개, 최대 4개 좌석 선택 가능
- 이미 예약된 좌석은 선택 불가
- 선택한 좌석은 다시 클릭하여 선택 취소 가능

**사용자 액션**:
- 좌석 클릭 → 선택/선택 취소 토글
- "예약하기" 버튼 클릭 → 예약 정보 입력 화면으로 이동

### 3.4 예약 정보 입력 (Booking Information)
**기능 설명**: 예약자 정보를 입력합니다.

**입력 필드**:
- **이름** (필수): 예약자 이름 (2-20자)
- **전화번호** (필수): 010-XXXX-XXXX 형식
- **이메일** (필수): 이메일 형식 검증
- **생년월일** (선택): YYYY-MM-DD 형식

**화면 구성**:
- 선택한 좌석 정보 요약
- 총 결제 금액
- 입력 폼
- "결제하기" 버튼

**유효성 검증**:
- 이름: 한글, 영문만 허용 (2-20자)
- 전화번호: 010-XXXX-XXXX 형식 (숫자만)
- 이메일: 표준 이메일 형식
- 생년월일: YYYY-MM-DD 형식, 과거 날짜만 허용

**사용자 액션**:
- "결제하기" 버튼 클릭 → 예약 완료 화면으로 이동

### 3.5 예약 완료 (Booking Confirmation)
**기능 설명**: 예약이 성공적으로 완료되었음을 알립니다.

**화면 구성**:
- 예약 완료 메시지
- 예약 번호 (고유 ID)
- 예약 정보 요약:
  - 콘서트 정보 (제목, 날짜, 장소)
  - 선택한 좌석 정보
  - 예약자 정보
  - 총 결제 금액
- "예약 조회" 버튼
- "홈으로" 버튼

**사용자 액션**:
- "예약 조회" 버튼 → 예약 조회 화면으로 이동
- "홈으로" 버튼 → 콘서트 목록으로 이동

### 3.6 예약 조회 (My Bookings)
**기능 설명**: 사용자의 모든 예약 내역을 조회합니다.

**화면 구성**:
- 예약 내역 리스트:
  - 예약 번호
  - 콘서트 제목
  - 공연 날짜
  - 좌석 정보
  - 예약자 이름
  - 총 금액
  - 예약 상태 (예약 완료)
- 각 예약 항목 클릭 시 상세 정보 표시

**필터링** (추가 기능 - 선택):
- 전체 예약
- 예정된 공연
- 지난 공연

**사용자 액션**:
- 예약 항목 클릭 → 예약 상세 정보 모달/페이지 표시

## 4. 사용자 여정 (User Journey)

### 여정 1: 새로운 콘서트 예약
```
1. 사용자가 앱에 접속
   ↓
2. 콘서트 목록 화면에서 원하는 콘서트 탐색
   ↓
3. 관심 있는 콘서트 카드 클릭
   ↓
4. 콘서트 상세 정보 확인
   ↓
5. "좌석 선택하기" 버튼 클릭
   ↓
6. 좌석 배치도에서 원하는 좌석 선택 (1-4개)
   ↓
7. "예약하기" 버튼 클릭
   ↓
8. 예약자 정보 입력 (이름, 전화번호, 이메일)
   ↓
9. "결제하기" 버튼 클릭
   ↓
10. 예약 완료 화면 확인 (예약 번호 발급)
```

### 여정 2: 예약 내역 확인
```
1. 사용자가 앱에 접속
   ↓
2. 네비게이션에서 "예약 조회" 메뉴 클릭
   ↓
3. 나의 예약 내역 리스트 확인
   ↓
4. 특정 예약 항목 클릭
   ↓
5. 예약 상세 정보 확인
```

## 5. 정보 구조 (Information Architecture)

```
홈 (콘서트 목록)
├─ 콘서트 상세
│  └─ 좌석 선택
│     └─ 예약 정보 입력
│        └─ 예약 완료
│
└─ 예약 조회
   └─ 예약 상세
```

### 네비게이션 구조
```
[헤더]
├─ 로고 (클릭 시 홈으로)
├─ 콘서트 목록
└─ 예약 조회

[메인 콘텐츠]
- 현재 페이지별 컨텐츠

[푸터] (선택)
- 저작권 정보
```

## 6. 데이터 모델 (Data Model Overview)

### 콘서트 (Concert)
```typescript
{
  id: string
  title: string
  artist: string
  date: Date
  venue: string
  description: string
  imageUrl: string
  runningTime: number
  totalSeats: number
  availableSeats: number
}
```

### 좌석 (Seat)
```typescript
{
  id: string
  concertId: string
  row: number
  number: number
  grade: 'VIP' | 'R' | 'S' | 'A'
  price: number
  isBooked: boolean
}
```

### 예약 (Booking)
```typescript
{
  id: string (예약 번호)
  concertId: string
  seatIds: string[]
  customerName: string
  customerPhone: string
  customerEmail: string
  customerBirthdate?: string
  totalAmount: number
  createdAt: Date
  status: 'confirmed'
}
```

## 7. 비기능 요구사항 (Non-Functional Requirements)

### 성능
- 콘서트 목록 로딩: 2초 이내
- 좌석 배치도 렌더링: 1초 이내
- 예약 처리: 3초 이내

### 사용성
- 모바일 반응형 디자인 지원
- 직관적인 좌석 선택 UI
- 명확한 에러 메시지 표시
- 로딩 상태 표시

### 호환성
- Chrome, Firefox, Safari, Edge 최신 버전
- 모바일 브라우저 (iOS Safari, Android Chrome)

### 데이터 무결성
- 동시 예약 시 좌석 중복 방지
- 입력 데이터 유효성 검증
- 예약 완료 전 데이터 최종 확인

## 8. 제약사항 (Constraints)

### 기술 스택 제약
- **필수**: Context API를 사용한 상태 관리
- **필수**: Flux 아키텍처 패턴 적용
- **필수**: 비즈니스 로직 중앙화 (Context)

### 상태 관리 제약
- 상태로 관리해야 하는 것만 상태로 관리
- 파생 데이터는 계산으로 처리 (useMemo)
- 불필요한 리렌더링 방지 최적화

### 개발 기간
- 설계 + 구현 + 배포: 제한된 시간 내 완료

## 9. 성공 기준 (Success Criteria)

### 기능 완성도
- ✅ 콘서트 목록 화면 완전 구현
- ✅ 콘서트 상세 화면 완전 구현
- ✅ 좌석 선택 기능 완전 구현
- ✅ 예약 정보 입력 및 검증 구현
- ✅ 예약 완료 화면 구현
- ✅ 예약 조회 기능 구현

### 상태 관리 품질
- ✅ Context API로 전역 상태 관리
- ✅ Flux 패턴 (Action → Dispatcher → Store → View) 구현
- ✅ 불필요한 상태 제거 (파생 데이터는 계산)
- ✅ 비즈니스 로직 중앙화

### 코드 품질
- ✅ TypeScript 타입 에러 0개
- ✅ ESLint 에러 0개
- ✅ 빌드 성공
- ✅ 모든 기능 정상 작동

### 배포
- ✅ 배포 완료 (Vercel/Netlify 등)
- ✅ 실제 URL에서 정상 작동 확인

## 10. 우선순위 (Priority)

### P0 (필수 - MVP)
- 콘서트 목록
- 콘서트 상세
- 좌석 선택
- 예약 정보 입력
- 예약 완료
- 예약 조회

### P1 (중요 - 추가 기능)
- 예약 취소 기능
- 검색/필터링 기능
- 로딩 스피너 및 에러 처리

### P2 (선택 - 향상)
- 소셜 공유 기능
- 즐겨찾기 기능
- 알림 기능

## 11. 리스크 및 고려사항 (Risks & Considerations)

### 기술적 리스크
- **동시성 문제**: 여러 사용자가 같은 좌석 동시 예약 시도
  - **완화 방안**: 낙관적 잠금(Optimistic Locking) 또는 비관적 잠금(Pessimistic Locking)

- **상태 복잡도**: 복잡한 예약 플로우의 상태 관리
  - **완화 방안**: Flux 패턴으로 단방향 데이터 흐름 유지

### 사용자 경험 리스크
- **좌석 선택 혼란**: 너무 많은 좌석 정보 표시
  - **완화 방안**: 색상 코드와 범례로 명확하게 구분

- **모바일 UX**: 작은 화면에서 좌석 선택 어려움
  - **완화 방안**: 터치 친화적인 UI, 확대/축소 기능

## 12. 다음 단계 (Next Steps)

1. **Userflow 정의**: 각 기능별 상세한 사용자 플로우 작성
2. **Tech Stack 선정**: React, Next.js, TypeScript 등 기술 스택 확정
3. **Codebase Structure**: 프로젝트 구조 설계
4. **Database Schema**: 데이터 모델 상세 설계
5. **Usecase 명세**: 각 기능의 유스케이스 작성
6. **State Management 설계**: Context + Flux 패턴 상세 설계
7. **구현**: 실제 코드 작성
8. **배포**: 프로덕션 환경 배포

---

**문서 버전**: 1.0
**작성일**: 2025-01-16
**작성자**: Development Team
